

#include <gb/gb.h>

unsigned char bgdata[] =
{
  0x00,0x00,0x03,0x03,0x0C,0x0F,0x18,0x1F,
  0x3C,0x33,0x3D,0x22,0x7F,0x60,0xFF,0xC0,
  0xFF,0x80,0xFF,0x80,0xFF,0x80,0xFF,0x80,
  0xFF,0x80,0xFF,0x80,0x7F,0x40,0x7F,0x7F,
  0xFC,0xFC,0x06,0xFE,0x03,0xFF,0x01,0xFF,
  0xB1,0x4F,0xF1,0x0F,0xE1,0x1F,0xF1,0x0F,
  0x71,0x8F,0xF1,0x0F,0xE2,0x1E,0xF2,0x0E,
  0xFC,0x0C,0xF8,0x18,0xF0,0x30,0xE0,0xE0,
  0x0F,0x0F,0x30,0x3F,0x60,0x7F,0xC0,0xFF,
  0x80,0xFF,0x84,0xFB,0xD5,0xAA,0xDF,0xA0,
  0xFB,0x84,0xFB,0x84,0xFF,0x80,0xFF,0xC0,
  0x7F,0x60,0x1F,0x18,0x0F,0x0E,0x03,0x03,
  0xFC,0xFC,0x06,0xFE,0x03,0xFF,0x01,0xFF,
  0x81,0x7F,0x81,0x7F,0xA1,0x5F,0xA1,0x5F,
  0xA1,0x5F,0xA1,0x5F,0xFF,0x03,0xFE,0x02,
  0xFE,0x02,0xFC,0x0C,0xF8,0x38,0xE0,0xE0,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,
  0x26,0x7F,0x22,0x22,0x23,0x23,0x11,0x11,
  0x19,0x19,0x0F,0x0F,0x03,0x03,0x01,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x70,0x20,0x30,0x60,0x60,
  0xC0,0xC0,0x00,0x00,0x00,0x00,0x80,0x80,
  0x80,0x80,0xC0,0xC0,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x01,0x00,0x71,0x21,0x61,0x1A,0x1A,
  0x0E,0x0E,0x03,0x03,0x02,0x02,0x02,0x02,
  0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0xC0,0x80,0xC0,0x80,0xF0,0x20,0x30,
  0x60,0x60,0xC0,0xC0,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x20,0x00,0x30,0x00,0x00,0x00,
  0x01,0x00,0x01,0x00,0x00,0x00,0x10,0x00,
  0x08,0x00,0x0C,0x00,0x04,0x00,0x12,0x00,
  0x11,0x00,0x01,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x80,0x00,0x40,0x00,
  0x20,0x00,0x30,0x00,0x80,0x00,0x80,0x00,
  0x00,0x00,0x30,0x00,0x18,0x00,0x00,0x00,
  0x00,0x00,0x80,0x00,0xC0,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x0D,
  0x00,0x06,0x00,0x01,0x00,0x31,0x00,0x18,
  0x00,0x0C,0x00,0x02,0x00,0x33,0x00,0x18,
  0x00,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x08,0x00,0x66,0x00,0xB2,
  0x00,0x40,0x00,0x40,0x00,0x80,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
  0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x1F,0x1F,0x20,0x20,0x40,0x40,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xF8,0xF8,0x04,0x04,0x02,0x02,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  0x01,0x01,0x02,0x02,0x04,0x04,0xF8,0xF8,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
  0x80,0x80,0x40,0x40,0x20,0x20,0x1F,0x1F,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,
  0x03,0x02,0x05,0x06,0x09,0x0E,0x1D,0x12,
  0x25,0x3A,0x4D,0x72,0x88,0xF7,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,
  0x40,0xC0,0xA0,0x60,0x90,0x70,0x18,0xE8,
  0x14,0xEC,0x92,0x6E,0x99,0x67,0xFF,0xFF,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char bgmap[] =
{
  0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,
  0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x02,
  0x05,0x03,0x05,0x03,0x05,0x03,0x05,0x03,0x05,0x03,
  0x05,0x03,0x05,0x03,0x01,0x03,0x05,0x03,0x05,0x03,
  0x04,0x06,0x04,0x06,0x04,0x06,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x04,0x06,0x04,0x06,0x04,0x06,
  0x05,0x07,0x05,0x07,0x05,0x07,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x05,0x07,0x05,0x07,0x05,0x07,
  0x18,0x14,0x18,0x14,0x14,0x14,0x18,0x14,0x14,0x14,
  0x14,0x14,0x14,0x18,0x18,0x18,0x18,0x13,0x16,0x18,
  0x18,0x14,0x15,0x17,0x17,0x17,0x15,0x13,0x13,0x13,
  0x15,0x15,0x16,0x16,0x14,0x14,0x14,0x16,0x16,0x14,
  0x18,0x18,0x10,0x14,0x17,0x17,0x18,0x18,0x18,0x18,
  0x17,0x17,0x17,0x16,0x18,0x15,0x15,0x11,0x15,0x18,
  0x13,0x11,0x11,0x18,0x18,0x08,0x0A,0x18,0x18,0x18,
  0x18,0x17,0x17,0x18,0x18,0x18,0x15,0x17,0x17,0x14,
  0x18,0x18,0x10,0x10,0x18,0x09,0x0B,0x18,0x18,0x18,
  0x18,0x13,0x18,0x18,0x18,0x0C,0x0E,0x18,0x14,0x10,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x13,0x18,
  0x18,0x13,0x13,0x18,0x18,0x0D,0x0F,0x18,0x18,0x11,
  0x18,0x18,0x18,0x18,0x13,0x13,0x18,0x18,0x18,0x12,
  0x12,0x12,0x18,0x18,0x18,0x18,0x14,0x14,0x11,0x11,
  0x18,0x18,0x18,0x18,0x18,0x10,0x18,0x11,0x11,0x11,
  0x10,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x10,
  0x18,0x18,0x12,0x12,0x18,0x18,0x10,0x10,0x10,0x10,
  0x10,0x18,0x18,0x13,0x18,0x18,0x18,0x18,0x11,0x11,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x10,0x10,0x10,0x11,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x00,0x02,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x04,0x06,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x01,0x03,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x05,0x07,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18
};

unsigned char windat[] =
{
  0x2C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,
  0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x32,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x3C,0x3E,0x3C,0x3E,0x3C,0x3E,
  0x3C,0x3E,0x3C,0x3E,0x3C,0x3E,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x3D,0x3F,0x3D,0x3F,0x3D,0x3F,
  0x3D,0x3F,0x3D,0x3F,0x3D,0x3F,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x28,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,
  0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x1A,0x22,
  0x39,0x25,0x25,0x25,0x25,0x25,0x25,0x25,0x25,0x25,
  0x25,0x25,0x25,0x25,0x25,0x25,0x25,0x25,0x25,0x37
};


void main() {
  UBYTE xpos = 0, ypos = 0;

  set_bkg_data(0,24,bgdata);
  set_bkg_tiles(0,0,20,18,bgmap);

  set_win_data(0,64,bgdata);
  set_win_tiles(0,0,20,18,windat);
  move_win(7, 0);

  DISPLAY_ON;
  SHOW_BKG;
  SHOW_WIN;

  while (1) {
  	if (joypad() & J_LEFT) {
  		xpos--;
  	}
  	if (joypad() & J_RIGHT) {
  		xpos++;
  	}
  	if (joypad() & J_DOWN) {
  		ypos++;
  	}
  	if (joypad() & J_UP) {
  		if (ypos != 0) ypos--;
  	}

  	if (xpos > 154 ) xpos = 154;
  	if (xpos < 7) xpos = 7;
  	if (ypos > 144) ypos = 144;

  	move_win(xpos, ypos);
  	wait_vbl_done();
  }
	
  
}